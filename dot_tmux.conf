# ============================================
# PLUGIN DECLARATIONS
# ============================================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux#v2.1.3'
set -g @catppuccin_flavour 'mocha'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'erikw/tmux-powerline'

# remap prefix to Control + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# VI bindings
setw -g mode-keys vi
unbind p
bind p paste-buffer
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf

# quick pane cycling
unbind ^A
bind ^A select-pane -t :.+

# 256 Color
set -g default-terminal "tmux-256color"
set-option -sa terminal-overrides ',xterm-256color:RGB'
# set -g status-bg colour147  # Commented out - tmux-powerline will handle status bar

# Turn off buffer renaming
set-option -g allow-rename off

# Higher history limit
set-option -g history-limit 50000

# activity alert
setw -g monitor-activity on
set -g visual-activity on

# https://github.com/neovim/neovim/issues/2017
set -s escape-time 0

# Set focus events on (neovim)
set-option -g focus-events on

# ============================================
# PLUGIN CONFIGURATION
# ============================================

# tmux-fzf
TMUX_FZF_LAUNCH_KEY="F"
TMUX_FZF_ORDER="window|session|pane|command"

# tmux-prefix-highlight
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr 'fg=black,bg=yellow'
set -g @prefix_highlight_prefix_prompt 'Wait'

# Catppuccin (disable status modules, let tmux-powerline handle status bar)
set -g @catppuccin_status_modules_right ""
set -g @catppuccin_status_modules_left ""

# ============================================
# TPM INITIALIZATION (must be at end)
# ============================================
run '~/.tmux/plugins/tpm/tpm'
